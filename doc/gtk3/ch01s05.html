<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta name="generator" content="HTML Tidy for Linux (vers 25 March 2009), see www.w3.org">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <title>Custom Drawing: GTK+ 3 Reference Manual</title>
  <meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
  <link rel="home" href="index.html" title="GTK+ 3 Reference Manual">
  <link rel="up" href="gtk-getting-started.html" title="Getting Started with GTK+">
  <link rel="prev" href="ch01s04.html" title="Building applications">
  <link rel="next" href="gtk-resources.html" title="Mailing lists and bug reports">
  <meta name="generator" content="GTK-Doc V1.25 (XML mode)">
  <link rel="stylesheet" href="style.css" type="text/css">
</head>

<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
  <table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="5">
    <tr valign="middle">
      <td width="100%" align="left" class="shortcuts"></td>

      <td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>

      <td><a accesskey="u" href="gtk-getting-started.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>

      <td><a accesskey="p" href="ch01s04.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>

      <td><a accesskey="n" href="gtk-resources.html"><img src="right.png" width="16" height="16" border="0" alt="Next"></a></td>
    </tr>
  </table>

  <div class="section">
    <div class="titlepage">
      <div>
        <div>
          <h2 class="title" style="clear: both"><a name="id-1.2.3.13" id="id-1.2.3.13"></a>Custom Drawing</h2>
        </div>
      </div>
    </div>

    <p>Many widgets, like buttons, do all their drawing themselves. You just tell them the label you want to see, and they figure out what font to use, draw the button outline and focus rectangle, etc. Sometimes, it is necessary to do some custom drawing. In that case, a <a class="link" href="GtkDrawingArea.html" title="GtkDrawingArea"><span class="type">GtkDrawingArea</span></a> might be the right widget to use. It offers a canvas on which you can draw by connecting to the <a class="link" href="GtkWidget.html#GtkWidget-draw" title="The “draw” signal"><span class="type">“draw”</span></a> signal.</p>

    <p>The contents of a widget often need to be partially or fully redrawn, e.g. when another window is moved and uncovers part of the widget, or when the window containing it is resized. It is also possible to explicitly cause part or all of the widget to be redrawn, by calling <a class="link" href="GtkWidget.html#gtk-widget-queue-draw" title="gtk_widget_queue_draw&nbsp;()"><code class="function">gtk_widget_queue_draw()</code></a> or its variants. GTK+ takes care of most of the details by providing a ready-to-use cairo context to the ::draw signal handler.</p>

    <p>The following example shows a ::draw signal handler. It is a bit more complicated than the previous examples, since it also demonstrates input event handling by means of ::button-press and ::motion-notify handlers.</p>

    <div class="informalfigure">
      <div class="mediaobject"><img src="drawing.png"></div>
    </div>

    <div class="example">
      <a name="gtk-getting-started-drawing" id="gtk-getting-started-drawing"></a>

      <p class="title"><b>Example&nbsp;4.&nbsp;Drawing in response to input</b></p>

      <div class="example-contents">
        <p>Create a new file with the following content named example-3.c.</p>
        <pre class="programlisting">
MISSING XINCLUDE CONTENT
</pre>
      </div>
    </div><br class="example-break">

    <p>You can compile the program above with GCC using:</p>

    <div class="literallayout">
      <p><br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="literal">gcc&nbsp;`pkg-config&nbsp;--cflags&nbsp;gtk+-3.0`&nbsp;-o&nbsp;example-3&nbsp;example-3.c&nbsp;`pkg-config&nbsp;--libs&nbsp;gtk+-3.0`</code><br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
    </div>
  </div>

  <div class="footer">
    <hr>
    Generated by GTK-Doc V1.25
  </div>
</body>
</html>
